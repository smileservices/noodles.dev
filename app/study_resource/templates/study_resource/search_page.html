{% extends 'frontend/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
    <div class="search-page">
        <section class="header">
            <h1>Search Page</h1>
            {% include 'study_resource/search_bar_section.html' %}
        </section>

        <section class="filtering collapsible">
            <div href="#" class="collapse-toggle">Toggle Filters</div>
            <div class="collapsible-content">
                <form action="{% url 'search' %}" method="GET">
                    {{ filter.form | crispy }}
                    <button class="btn" type="submit">Filter</button>
                </form>
            </div>
        </section>
        <section class="results-container">
            {% if not results %}
                <h3>Did not find any results :(</h3>
            {% else %}
                <h3>Found {{ results.paginator.count }} results matching your query:</h3>
                <div class="results-selection">
                    {% for result in results %}
                        <div class="result">{% include 'study_resource/result.html' %}</div>
                    {% endfor %}
                </div>
                {% if results.has_other_pages %}
                    {% include 'static_pagination.html' %}
                {% endif %}
            {% endif %}
        </section>
    </div>
{% endblock %}