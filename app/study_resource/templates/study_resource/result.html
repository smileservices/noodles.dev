<span class="card" itemscope itemtype="https://schema.org/AggregateRating">
<div class="result" itemprop="itemReviewed" itemscope itemtype="https://schema.org/CreativeWork">
{% load star_rating %}
<p class="rating">
    {% if result.rating %}
        <span>{% star_rating result.rating %}</span>
        <span>
        <span itemprop="ratingValue">{{ result.rating|floatformat }}</span>/<span itemprop="bestRating">5</span>
        </span>
        <span>
        (<span itemprop="ratingCount" class="pull-right">{{ result.reviews_count }}</span> reviews)
        </span>
    {% else %}
        not rated
    {% endif %}
    {% if result.rank %}
        <span>{{ result.rank|floatformat:3 }} relevancy</span>
    {% endif %}
</p>
<h2 class="title" itemprop="name">
    <a itemprop="name" href="{% url 'detail' result.id result.slug %}">{{ result.name }}</a>
</h2>

<div class="group-muted">
    <p class="publication-date">{{ result.publication_date }}</p>
    <p class="experience-level">Difficulty <span itemprop="educationalLevel">{{ result.experience_level_label }}</span>
    </p>
    <p class="type">Type <span itemprop="learningResourceType">{{ result.media_label }}</span>, {{ result.price_label }}
    </p>
</div>

<p class="tags" itemprop="keywords">{% for tag in result.tags.all %}
    <a class="tag" href="{% url 'search' %}?tags={{ tag.id }}">{{ tag }}</a>
{% endfor %}
    {% for tech in result.technologies.all %}
        <a class="tech" href="{% url 'search' %}?technologies={{ tech.id }}">{{ tech }}</a>
    {% endfor %}
</p>
</div>
</span>