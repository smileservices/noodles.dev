{% load mptt_tags %}

<header>
    <div class="left-side">
        <img src="{{ result.logo.medium }}" alt="">
        <h1 class="title" itemProp="name">{{ result.name }}</h1>
    </div>
    <a class="btn contribute" href="{% url 'tech-edit' id=result.pk %}">Contribute</a>
</header>
<p class="tags">
    <a href="{% url 'search_page' %}?tab=technologies&license={{ result.license_label }}">{{ result.license_label }}</a>
</p>
{% for category in result.category.all %}
    <p class="tags">
        {% for cat in category.get_ancestors %}
            <a href="{% url 'search_page' %}?tab=technologies&category={{ cat }}">{{ cat }}</a>
        {% endfor %}
        <a href="{% url 'search_page' %}?tab=technologies&category={{ category }}">{{ category }}</a>
    </p>
{% endfor %}
<div class="description">
    <p class="summary" itemProp="abstract">{{ result.description | linebreaks }}</p>
    <p>Technology maintained by <span class="highlighted">{{ result.owner }}</span></p>
    <p class="source_url"><a href="{{ result.url }}">{{ result.url }}</a></p>
</div>

<div class="tech-concepts-container">
<h4>Concepts:</h4>
{% if result.concepts.count > 0 %}
    <div class="tags">
        {% for concept in result.concepts.all %}
            <a class="concept"
               href="{% url 'concept-technology-detail' concept.pk concept.slug %}">{{ concept.name }}</a>
        {% endfor %}
    </div>
    <a class="contribute" href="{% url 'technology-concept-create' %}?technology={{ result.pk }}">Add a new concept</a>
{% else %}
    <div class="alert alert-contribute">
        <p>There are no concepts specific to {{ result.name }}.</p>
        <a class="contribute" href="{% url 'technology-concept-create' %}?technology={{ result.pk }}">Be the first to add one</a>
    </div>
{% endif %}
</div>

{% if result.ecosystem.count > 0 %}
    <p>Ecosystem:</p>
    <div class="tags">
        {% for tech in result.ecosystem.all %}
            <a class="tech" href="{% url 'tech-detail' tech.pk tech.slug %}">{{ tech }}</a>
        {% endfor %}
    </div>
{% endif %}


<span class="published">Added By <a
        href="{% url 'user-profile' result.author.username %}">{{ result.author }}</a></span>